<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>OfficeMate</title>
	<link rel="stylesheet" href="../css/salary_styles.css">
</head>

<script th:inline="javascript">
	var token = /*[[${_csrf.token}]]*/ '';

	function addMonthSalary() {

		fetch('/admin/addMonthSalary', {
			method: 'POST',
			headers: {
				'X-CSRF-TOKEN': token
			}
		})
		.then(response => {
		    if (response.ok) {
		        // 성공적으로 처리되었을 때 추가 동작 수행
		        window.location.href = '/admin/salary';
		    } else {
		        return response.text(); // 응답 본문 가져오기
		    }
		})
		.then(body => {
		    if (body.includes('error=duplicateMonth')) {
		        alert('현재 월의 데이터가 이미 존재합니다.');
		    } else {
		        console.error('월급여 추가 실패');
		    }
		})
		.catch(error => {
		    console.error('월급여 추가 중 오류 발생:', error);
		});
	}
</script>

<body>
	<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

	<div class="sidebar">
		<a href="/home" style="text-decoration: none;">
			<div class="logo">OfficeMate</div>
		</a>
		<div class="padding"></div> <!-- 여백 추가 -->
		<ul class="menu">
			<li><a href="../notice">공지사항</a></li>
			<li><a href="../dept">부서</a></li>
			<li><a href="../work">업무</a></li>
			<li><a href="../attendance">출퇴근</a></li>
			<li><a href="../document">문서</a></li>
			<li><a href="../salary" style="background-color:#185066">급여지급</a></li>
			<div sec:authorize="hasRole('ADMIN')">
				<li><a href="../admin/empManage">전체사원관리</a></li>
			</div>
		</ul>
	</div>

	<div class="content">
		<h1>월 급여 대장</h1>
		    <h2 th:text="${#temporals.format(currentMonth, 'yyyy년 M월')}">현재 월</h2>
		    <p>총 급여 금액: <span th:text="${#numbers.formatDecimal(totalAmount, 0, 'COMMA', 0, 'POINT')}">총 급여 금액</span> 원</p>
		
			<table>
			  <thead>
			    <tr>
			      <th colspan="14">20년 월급여대장</th>
			      <th>단 단</th>
			    </tr>
			    <tr>
			      <th rowspan="2">인적사항</th>
			      <th colspan="3">지급형목</th>
			      <th colspan="9">공제형목</th>
			    </tr>
			    <tr>
			      <th>직급</th>
			      <th>성명</th>
			      <th>기본급</th>
			      <th>식대</th>
			      <th>차량</br>유지비</th>
			      <th>보육</br>수당</th>
			      <th>상여금</th>
			      <th>기타</br>수당</th>
			      <th>지급</br>합계</th>
			      <th>소득세</th>
			      <th>주민세</th>
			      <th>건강</br>보험</th>
			      <th>장기요양</br>보험</th>
			      <th>고용</br>보험</th>
			      <th>공제</br>합계</th>
			      <th>실지급액</th>
			    </tr>
			  </thead>
			  <tbody>
			    <tr>
			      <td></td>
			      <td></td>
			      <td></td>
			      <td></td>
			      <td></td>
			      <td></td>
			      <td></td>
			      <td></td>
			      <td></td>
			      <td></td>
			      <td></td>
			      <td></td>
			      <td></td>
			      <td></td>
			      <td></td>
			      <td></td>
			    </tr>
			    <!-- 추가 행 -->
			    <tr>
			      <td colspan="14">합계</td>
			      <td></td>
			    </tr>
			  </tbody>
			</table>
	</div>



</body>


</html>