<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>OfficeMate</title>
	<link rel="stylesheet" href="../css/notice_styles.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

</head>


<script th:inline="javascript">
	function confirmDelete(url) {
		if (confirm("공지사항을 삭제하시겠습니까?")) {
			window.location.href = url;
		}
	}
</script>

<body style="background-color: aliceblue;">

	<div class="sidebar">
		<a href="/home" style="text-decoration: none;">
			<div class="logo">OfficeMate</div>
		</a>
		<div class="padding"></div> <!-- 여백 추가 -->

		<ul class="menu">
			<li><a href="../notice" style="background-color:#185066">공지사항</a></li>
			<li><a href="../dept">부서</a></li>
			<li><a href="../work">업무</a></li>
			<li><a href="../attendance">출퇴근</a></li>
			<li><a href="../document">문서</a></li>
			<li><a href="../salary">급여지급</a></li>
			<div sec:authorize="hasRole('ADMIN')">
				<li><a href="../admin/empManage">전체사원관리</a></li>
			</div>
		</ul>
	</div>


	<div class="content">
		<h2 th:text="${notice.title}"></h2>
		<div class="button-container" sec:authorize="hasRole('ADMIN')">
			<br>
			<a th:href="@{'/admin/noticeEdit/' + ${notice.noticeId}}"><button class="notice_edit">공지 수정</button></a>

			<button class="notice_delete"
				th:onclick="|confirmDelete('@{/admin/noticeDelete(noticeId=${notice.noticeId})}')|">공지 삭제</button>
		</div>
		<form class="notice_form">

			<div>
				<span class="notice_details">작성자: </span>관리자
				<span class="notice_details">작성일: </span><span
					th:text="${#strings.substring(notice.postDate, 0, 16)}"></span>
				<hr>
			</div>
			<div th:if="${base64EncodedFile != null}">
				<!-- 이미지를 base64 인코딩된 문자열로 표시 -->
				<img th:src="'data:image/*;base64,' + ${base64EncodedFile}" class="rounded mx-auto d-block" alt="Notice Image" width="300" height="300">
			</div>
			<br>
			<span th:text="${notice.content}"></span>
			<input type="hidden" name="noticeId" th:value="${notice.noticeId}">
		</form>
	</div>
	<div class="logo2">
			OfficeMate
	</div>


</body>

</html>